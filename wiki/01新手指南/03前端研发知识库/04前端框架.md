# 前端框架
### UmiJS

[umi](https://umijs.org/zh/guide/)，中文可发音为乌米，是一个可插拔的企业级 react 应用框架。umi 以路由为基础的，支持类 next.js 的约定式路由，以及各种进阶的路由功能，并以此进行功能扩展，比如支持路由级的按需加载。然后配以完善的插件体系，覆盖从源码到构建产物的每个生命周期，支持各种功能扩展和业务需求，目前内外部加起来已有 50+ 的插件。

umi 是蚂蚁金服的底层前端框架，已直接或间接地服务了 600+ 应用，包括 java、node、H5 无线、离线（Hybrid）应用、纯前端 assets 应用、CMS 应用等。他已经很好地服务了我们的内部用户，同时希望他也能服务好外部用户。

下图是umi的架构图

![umi机构图](D:\project\wiki\01新手指南\03前端研发知识库\assets\zvfEXesXdgTzWYZCuHLe.png)



##### 特性
   - 开箱即用，内置 react、react-router 等
   - 与 dva 数据流的深入融合
   - 类 next.js 且功能完备的路由约定，同时支持配置的路由方式

**UmiJS是基于 React + Dva + antd 的前端框架，所以我们需要掌握这些知识点**

### react
   [react](https://react.docschina.org/) 用于构建用户界面的 JavaScript 库。

### dva
   [dva](https://dvajs.com/guide/) 首先是一个基于 redux 和 redux-saga 的数据流方案，然后为了简化开发体验，dva 还额外内置了 react-router 和 fetch，所以也可以理解为一个轻量级的应用框架。
##### 特性
   - 易学易用，仅有 6 个 api，对 redux 用户尤其友好，配合 umi 使用后更是降低为 0 API
   - elm 概念，通过 reducers, effects 和 subscriptions 组织 model
   - 插件机制，比如 dva-loading 可以自动处理 loading 状态，不用一遍遍地写 showLoading 和 hideLoading
   - 支持 HMR，基于 babel-plugin-dva-hmr 实现 components、routes 和 models 的 HMR

### redux
   随着 JavaScript 单页应用开发日趋复杂，JavaScript 需要管理比任何时候都要多的 state （状态）。 这些 state 可能包括服务器响应、缓存数据、本地生成尚未持久化到服务器的数据，也包括 UI 状态，如激活的路由，被选中的标签，是否显示加载动效或者分页器等等。

管理不断变化的 state 非常困难。如果一个 model 的变化会引起另一个 model 变化，那么当 view 变化时，就可能引起对应 model 以及另一个 model 的变化，依次地，可能会引起另一个 view 的变化。直至你搞不清楚到底发生了什么。state 在什么时候，由于什么原因，如何变化已然不受控制。 当系统变得错综复杂的时候，想重现问题或者添加新功能就会变得举步维艰。

如果这还不够糟糕，考虑一些来自前端开发领域的新需求，如更新调优、服务端渲染、路由跳转前请求数据等等。前端开发者正在经受前所未有的复杂性，难道就这么放弃了吗？当然不是。

这里的复杂性很大程度上来自于：我们总是将两个难以理清的概念混淆在一起：变化和异步。 我称它们为曼妥思和可乐。如果把二者分开，能做的很好，但混到一起，就变得一团糟。一些库如 React 试图在视图层禁止异步和直接操作 DOM 来解决这个问题。美中不足的是，React 依旧把处理 state 中数据的问题留给了你。[Redux](https://www.redux.org.cn/)就是为了帮你解决这个问题。
   **想要了解更多redux，可以参考 [2019 React Redux 完全指南](https://juejin.im/post/5cac8ccd6fb9a068530111c7)**

### redux-saga
   [redux-saga](https://redux-saga-in-chinese.js.org/) 是一个用于管理应用程序 Side Effect（副作用，例如异步获取数据，访问浏览器缓存等）的 library，它的目标是让副作用管理更容易，执行更高效，测试更简单，在处理故障时更容易。

可以想像为，一个 saga 就像是应用程序中一个单独的线程，它独自负责处理副作用。 redux-saga 是一个 redux 中间件，意味着这个线程可以通过正常的 redux action 从主应用程序启动，暂停和取消，它能访问完整的 redux state，也可以 dispatch redux action。

redux-saga 使用了 ES6 的 Generator 功能，让异步的流程更易于读取，写入和测试。

### antd
   [antd](https://ant.design/docs/react/introduce-cn) 是基于 Ant Design 设计体系的 React UI 组件库，主要用于研发企业级中后台产品。

# 结论
   - 使用 umi 构建前端框架。
   - 使用 react 构建用户界面。
   - 使用 dva 数据流。
   - 使用 antd UI组件库。

