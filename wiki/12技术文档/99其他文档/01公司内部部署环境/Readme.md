# 内部环境部署说明

本文档阐述内部环境部署说明，遵守原则如下：

- 减少端口使用
- 公用通用中间件，减少同类型中间件部署


## 部署图

详细部署图如下：  

[部署图](./deployment.svg)


## WEB应用部署说明

采用同个端口，不用上下文的方式部署。  

端口和环境说明: 

端口        | 说明
--          | --
80          | 预正式环境和内部系统
8080        | 测试环境
30000-32767 | 中间件使用, k8s默认

## 部署记录
上下文  | 端口  | 说明
--      | --    | --
/gitlab | 80    | gitlab软件
/zentao | 80    | 禅道软件
none    | 30306 | 内部仓库
none    | 9001  | mysql
none    | 9002  | postgresql数据库
none    | 9003  | redis
none    | 9004  | elasticsearch
